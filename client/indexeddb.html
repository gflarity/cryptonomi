
<title>File API (simple)</title>
<article>
  <p id="status">File API &amp; FileReader API not supported</p>
  <p><input type=file></p>
  <p>Select an image from your machine to read the contents of the file without using a server</p>
  <div id="holder"></div>
</article>
<script type="text/javascript" src="2.5.3-crypto-min.js"></script>
<script type="text/javascript" src="cryptonomi.js"></script>
<script type="text/javascript" src="http://crypto-js.googlecode.com/files/2.5.3-crypto-sha1-hmac-pbkdf2-blockmodes-aes.js"></script>
<script src="aes.js"></script>

<script src="aes.js"></script>
<script src="FileSaver.js"></script>
<script>
var upload = document.getElementsByTagName('input')[0],
    holder = document.getElementById('holder'),
    state = document.getElementById('status');
if (typeof window.FileReader === 'undefined') {
    state.className = 'fail';
}
else {
    state.className = 'success';
    state.innerHTML = 'File API & FileReader available';
}

upload.onchange = function(e) {
    e.preventDefault();
    var file = upload.files[0];
    
    saveAs( file, file.fileName );
        
};
</script>

